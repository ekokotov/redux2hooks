{"version":3,"file":"index.es.js","sources":["../src/StoreProvider.jsx","../src/connect.jsx","../src/combineReducers.js","../src/useStore.js","../src/useActions.js"],"sourcesContent":["import React, {createContext, useReducer} from 'react';\n\nexport const Store = createContext();\n\n// const devTools = devToolsEnhancer;\n// let _redux;\n// import {devToolsEnhancer} from 'redux-devtools-extension';\n\nexport function StoreProvider(props) {\n  let [state, setState] = useReducer(props.reducers, props.initialState || props.reducers());\n  // _redux = devTools.connect();\n  // _redux.init(state);\n  // });\n  function getState() {\n    return state;\n  }\n\n  function dispatch(action) { //own dispatch\n    if (typeof action === 'function') {\n      return action(dispatch, getState);\n    } else if (typeof action === 'object') {\n      // devTools.send(action, reducers(state, action));\n      return setState(action);\n    }\n  }\n\n  return <Store.Provider value={{state, dispatch}}>{props.children}</Store.Provider>;\n}\n\nexport default StoreProvider;\n","import React, {useContext} from 'react';\r\nimport {Store} from \"./StoreProvider.jsx\";\r\n\r\nexport default function connect(mapStateToProps, mapActions) {\r\n  return Component => () => {\r\n    const {state, dispatch} = useContext(Store);\r\n    const mappedActions = {};\r\n    const mappedStateToProps = mapStateToProps ? mapStateToProps(state) : {};\r\n\r\n    for (const key in mapActions) {\r\n      if (mapActions.hasOwnProperty(key)) {\r\n        mappedActions[key] = args => dispatch(mapActions[key](args))\r\n      }\r\n    }\r\n    // Wraps the input component in a container, without mutating it. Good!\r\n    return <Component {...mappedStateToProps} {...mappedActions} />;\r\n  }\r\n}\r\n","const combineReducers = reducers => (state = {}, action) =>\r\n  Object.keys(reducers).reduce((nextState, key) => {\r\n    nextState[key] = reducers[key](state[key], action);\r\n    return nextState;\r\n  }, {});\r\n\r\nexport default combineReducers;\r\n","import {useContext} from 'react';\nimport {Store} from \"./StoreProvider.jsx\";\n\nexport default function useStore(mapFunction) {\n  const {state} = useContext(Store);\n\n  return typeof mapFunction === 'function' ? mapFunction(state) : state;\n}\n","import {useContext} from 'react';\nimport {Store} from \"./StoreProvider.jsx\";\n\nfunction useActions(mapAction = {}) {\n  const {dispatch} = useContext(Store);\n\n  return Object.keys(mapAction).reduce((acc, key) => {\n      acc[key] = (...args) => dispatch(mapAction[key](...args));\n      return acc;\n    }, {});\n}\nexport default useActions;\n"],"names":["Store","createContext","StoreProvider","props","state","setState","useReducer","reducers","initialState","getState","dispatch","action","children","connect","mapStateToProps","mapActions","Component","useContext","mappedActions","mappedStateToProps","key","hasOwnProperty","args","combineReducers","Object","keys","reduce","nextState","useStore","mapFunction","useActions","mapAction","acc"],"mappings":";;MAEaA,QAAQC,eAAd;;;;;;AAMP,AAAO,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;MAC/B,CAACC,KAAD,EAAQC,QAAR,IAAoBC,WAAWH,MAAMI,QAAjB,EAA2BJ,MAAMK,YAAN,IAAsBL,MAAMI,QAAN,EAAjD,CAAxB;;;;WAISE,QAAT,GAAoB;WACXL,KAAP;;;WAGOM,QAAT,CAAkBC,MAAlB,EAA0B;;QACpB,OAAOA,MAAP,KAAkB,UAAtB,EAAkC;aACzBA,OAAOD,QAAP,EAAiBD,QAAjB,CAAP;KADF,MAEO,IAAI,OAAOE,MAAP,KAAkB,QAAtB,EAAgC;;aAE9BN,SAASM,MAAT,CAAP;;;;SAIG;SAAA,CAAO,QAAP;MAAgB,OAAO,EAACP,KAAD,EAAQM,QAAR,EAAvB;UAAiDE;GAAxD;;;;;;;;;;;;;;;;;ACvBa,SAASC,OAAT,CAAiBC,eAAjB,EAAkCC,UAAlC,EAA8C;SACpDC,aAAa,MAAM;UAClB,EAACZ,KAAD,EAAQM,QAAR,KAAoBO,WAAWjB,KAAX,CAA1B;UACMkB,gBAAgB,EAAtB;UACMC,qBAAqBL,kBAAkBA,gBAAgBV,KAAhB,CAAlB,GAA2C,EAAtE;;SAEK,MAAMgB,GAAX,IAAkBL,UAAlB,EAA8B;UACxBA,WAAWM,cAAX,CAA0BD,GAA1B,CAAJ,EAAoC;sBACpBA,GAAd,IAAqBE,QAAQZ,SAASK,WAAWK,GAAX,EAAgBE,IAAhB,CAAT,CAA7B;;;;WAIG,oBAAC,SAAD,eAAeH,kBAAf,EAAuCD,aAAvC,EAAP;GAXF;;;ACJF,MAAMK,kBAAkBhB,YAAY,CAACH,QAAQ,EAAT,EAAaO,MAAb,KAClCa,OAAOC,IAAP,CAAYlB,QAAZ,EAAsBmB,MAAtB,CAA6B,CAACC,SAAD,EAAYP,GAAZ,KAAoB;YACrCA,GAAV,IAAiBb,SAASa,GAAT,EAAchB,MAAMgB,GAAN,CAAd,EAA0BT,MAA1B,CAAjB;SACOgB,SAAP;CAFF,EAGG,EAHH,CADF;;ACGe,SAASC,QAAT,CAAkBC,WAAlB,EAA+B;QACtC,EAACzB,KAAD,KAAUa,WAAWjB,KAAX,CAAhB;;SAEO,OAAO6B,WAAP,KAAuB,UAAvB,GAAoCA,YAAYzB,KAAZ,CAApC,GAAyDA,KAAhE;;;ACHF,SAAS0B,UAAT,CAAoBC,YAAY,EAAhC,EAAoC;QAC5B,EAACrB,QAAD,KAAaO,WAAWjB,KAAX,CAAnB;;SAEOwB,OAAOC,IAAP,CAAYM,SAAZ,EAAuBL,MAAvB,CAA8B,CAACM,GAAD,EAAMZ,GAAN,KAAc;QAC3CA,GAAJ,IAAW,CAAC,GAAGE,IAAJ,KAAaZ,SAASqB,UAAUX,GAAV,EAAe,GAAGE,IAAlB,CAAT,CAAxB;WACOU,GAAP;GAFG,EAGF,EAHE,CAAP;;;;;"}