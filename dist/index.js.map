{"version":3,"file":"index.js","sources":["../src/StoreProvider.jsx","../src/connect.jsx","../src/combineReducers.js","../src/useStore.js","../src/useActions.js"],"sourcesContent":["import React, {createContext, useReducer} from 'react';\n\nexport const Store = createContext();\n\n// const devTools = devToolsEnhancer;\n// let _redux;\n// import {devToolsEnhancer} from 'redux-devtools-extension';\n\nexport function StoreProvider(props) {\n  let [state, setState] = useReducer(props.reducers, props.initialState || props.reducers());\n  // _redux = devTools.connect();\n  // _redux.init(state);\n  // });\n  function getState() {\n    return state;\n  }\n\n  function dispatch(action) { //own dispatch\n    if (typeof action === 'function') {\n      return action(dispatch, getState);\n    } else if (typeof action === 'object') {\n      // devTools.send(action, reducers(state, action));\n      return setState(action);\n    }\n  }\n\n  return <Store.Provider value={{state, dispatch}}>{props.children}</Store.Provider>;\n}\n\nexport default StoreProvider;\n","import React, {useContext} from 'react';\r\nimport {Store} from \"./StoreProvider.jsx\";\r\n\r\nexport default function connect(mapStateToProps, mapActions) {\r\n  return Component => () => {\r\n    const {state, dispatch} = useContext(Store);\r\n    const mappedActions = {};\r\n    const mappedStateToProps = mapStateToProps ? mapStateToProps(state) : {};\r\n\r\n    for (const key in mapActions) {\r\n      if (mapActions.hasOwnProperty(key)) {\r\n        mappedActions[key] = args => dispatch(mapActions[key](args))\r\n      }\r\n    }\r\n    // Wraps the input component in a container, without mutating it. Good!\r\n    return <Component {...mappedStateToProps} {...mappedActions} />;\r\n  }\r\n}\r\n","const combineReducers = reducers => (state = {}, action) =>\r\n  Object.keys(reducers).reduce((nextState, key) => {\r\n    nextState[key] = reducers[key](state[key], action);\r\n    return nextState;\r\n  }, {});\r\n\r\nexport default combineReducers;\r\n","import {useContext} from 'react';\nimport {Store} from \"./StoreProvider.jsx\";\n\nexport default function useStore(mapFunction) {\n  const {state} = useContext(Store);\n\n  return typeof mapFunction === 'function' ? mapFunction(state) : state;\n}\n","import {useContext} from 'react';\nimport {Store} from \"./StoreProvider.jsx\";\n\nfunction useActions(mapAction = {}) {\n  const {dispatch} = useContext(Store);\n\n  return Object.keys(mapAction).reduce((acc, key) => {\n      acc[key] = (...args) => dispatch(mapAction[key](...args));\n      return acc;\n    }, {});\n}\nexport default useActions;\n"],"names":["Store","createContext","StoreProvider","props","state","setState","useReducer","reducers","initialState","getState","dispatch","action","React","children","connect","mapStateToProps","mapActions","Component","useContext","mappedActions","mappedStateToProps","key","hasOwnProperty","args","combineReducers","Object","keys","reduce","nextState","useStore","mapFunction","useActions","mapAction","acc"],"mappings":";;;;;;;;;MAEaA,QAAQC,qBAAd;;;;;;AAMP,AAAO,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;MAC/B,CAACC,KAAD,EAAQC,QAAR,IAAoBC,iBAAWH,MAAMI,QAAjB,EAA2BJ,MAAMK,YAAN,IAAsBL,MAAMI,QAAN,EAAjD,CAAxB;;;;WAISE,QAAT,GAAoB;WACXL,KAAP;;;WAGOM,QAAT,CAAkBC,MAAlB,EAA0B;;QACpB,OAAOA,MAAP,KAAkB,UAAtB,EAAkC;aACzBA,OAAOD,QAAP,EAAiBD,QAAjB,CAAP;KADF,MAEO,IAAI,OAAOE,MAAP,KAAkB,QAAtB,EAAgC;;aAE9BN,SAASM,MAAT,CAAP;;;;SAIGC;SAAA,CAAO,QAAP;MAAgB,OAAO,EAACR,KAAD,EAAQM,QAAR,EAAvB;UAAiDG;GAAxD;;;;;;;;;;;;;;;;;ACvBa,SAASC,OAAT,CAAiBC,eAAjB,EAAkCC,UAAlC,EAA8C;SACpDC,aAAa,MAAM;UAClB,EAACb,KAAD,EAAQM,QAAR,KAAoBQ,iBAAWlB,KAAX,CAA1B;UACMmB,gBAAgB,EAAtB;UACMC,qBAAqBL,kBAAkBA,gBAAgBX,KAAhB,CAAlB,GAA2C,EAAtE;;SAEK,MAAMiB,GAAX,IAAkBL,UAAlB,EAA8B;UACxBA,WAAWM,cAAX,CAA0BD,GAA1B,CAAJ,EAAoC;sBACpBA,GAAd,IAAqBE,QAAQb,SAASM,WAAWK,GAAX,EAAgBE,IAAhB,CAAT,CAA7B;;;;WAIGX,6BAAC,SAAD,eAAeQ,kBAAf,EAAuCD,aAAvC,EAAP;GAXF;;;ACJF,MAAMK,kBAAkBjB,YAAY,CAACH,QAAQ,EAAT,EAAaO,MAAb,KAClCc,OAAOC,IAAP,CAAYnB,QAAZ,EAAsBoB,MAAtB,CAA6B,CAACC,SAAD,EAAYP,GAAZ,KAAoB;YACrCA,GAAV,IAAiBd,SAASc,GAAT,EAAcjB,MAAMiB,GAAN,CAAd,EAA0BV,MAA1B,CAAjB;SACOiB,SAAP;CAFF,EAGG,EAHH,CADF;;ACGe,SAASC,QAAT,CAAkBC,WAAlB,EAA+B;QACtC,EAAC1B,KAAD,KAAUc,iBAAWlB,KAAX,CAAhB;;SAEO,OAAO8B,WAAP,KAAuB,UAAvB,GAAoCA,YAAY1B,KAAZ,CAApC,GAAyDA,KAAhE;;;ACHF,SAAS2B,UAAT,CAAoBC,YAAY,EAAhC,EAAoC;QAC5B,EAACtB,QAAD,KAAaQ,iBAAWlB,KAAX,CAAnB;;SAEOyB,OAAOC,IAAP,CAAYM,SAAZ,EAAuBL,MAAvB,CAA8B,CAACM,GAAD,EAAMZ,GAAN,KAAc;QAC3CA,GAAJ,IAAW,CAAC,GAAGE,IAAJ,KAAab,SAASsB,UAAUX,GAAV,EAAe,GAAGE,IAAlB,CAAT,CAAxB;WACOU,GAAP;GAFG,EAGF,EAHE,CAAP;;;;;;;;;;"}